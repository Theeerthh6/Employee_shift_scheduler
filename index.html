<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Shift Scheduler</title>
    <style>
        /* Basic styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #cdc2f3;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background:  hsl(204, 100%, 94%);;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            display: none; /* Initially hidden until login */
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table th, table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        button {
            padding: 10px;
            border: none;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
            border-radius: 4px;
        }
        button:hover {
            background-color: #45a049;
        }
        .btn-danger {
            background-color: #f44336;
        }
        .btn-danger:hover {
            background-color: #e53935;
        }
        select, input {
            padding: 10px;
            margin: 10px 0;
            width: 100%;
            box-sizing: border-box;
        }
        .login-container {
            max-width: 800px;
            margin: 200px auto;
            background: hsl(204, 100%, 94%);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        .login-container input {
            margin: 10px 0;
            padding: 10px;
            width: calc(100% - 20px);
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <!-- Login Container -->
    <div class="login-container" id="loginContainer">
        <h1>Login</h1>
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button onclick="authenticate()">Login</button>
    </div>

    <!-- Main Application -->
    <div class="container" id="appContainer">
        <h1>Employee Shift Scheduler</h1>
        <!-- Add Employee -->
        <h2>Add Employee</h2>
        <input type="text" id="employeeName" placeholder="Employee Name">
        <input type="text" id="employeeRole" placeholder="Employee Role">
        <button onclick="addEmployee()">Add Employee</button>
        <!-- Employee Table -->
        <h2>Employees</h2>
        <table id="employeeTable">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Role</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <!-- Schedule Shift -->
        <h2>Schedule Shift</h2>
        <select id="employeeSelect"></select>
        <input type="date" id="shiftDate">
        <select id="shiftTime">
            <option value="Morning">Morning</option>
            <option value="Afternoon">Afternoon</option>
            <option value="Night">Night</option>
        </select>
        <button onclick="scheduleShift()">Schedule Shift</button>
        <!-- Scheduled Shifts -->
        <h2>Scheduled Shifts</h2>
        <table id="shiftTable">
            <thead>
                <tr>
                    <th>Employee</th>
                    <th>Role</th>
                    <th>Date</th>
                    <th>Shift</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        <!-- Leave Requests -->
        <h2>Leave Requests</h2>
        <select id="leaveEmployeeSelect"></select>
        <input type="date" id="leaveDate">
        <button onclick="requestLeave()">Request Leave</button>
        <h3>Leave Requests</h3>
        <table id="leaveTable">
            <thead>
                <tr>
                    <th>Employee</th>
                    <th>Date</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <script>
        const employees = [];
        const shifts = [];
        const leaveRequests = [];
        
        // Authentication
        function authenticate() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;

            if (username === "thee" && password === "1234") {
                document.getElementById("loginContainer").style.display = "none";
                document.getElementById("appContainer").style.display = "block";
            } else {
                alert("Invalid username or password. Please try again.");
            }
        }

        function addEmployee() {
            const name = document.getElementById("employeeName").value;
            const role = document.getElementById("employeeRole").value;

            if (name && role) {
                employees.push({ name, role });
                updateEmployeeDropdown();
                updateEmployeeTable();
                document.getElementById("employeeName").value = "";
                document.getElementById("employeeRole").value = "";
            } else {
                alert("Please fill in all fields.");
            }
        }

        function updateEmployeeDropdown() {
            const employeeSelect = document.getElementById("employeeSelect");
            const leaveEmployeeSelect = document.getElementById("leaveEmployeeSelect");
            employeeSelect.innerHTML = '<option value="">Select Employee</option>';
            leaveEmployeeSelect.innerHTML = '<option value="">Select Employee</option>';

            employees.forEach(employee => {
                const option = `<option value="${employee.name}">${employee.name}</option>`;
                employeeSelect.innerHTML += option;
                leaveEmployeeSelect.innerHTML += option;
            });
        }

        function updateEmployeeTable() {
            const tableBody = document.getElementById("employeeTable").querySelector("tbody");
            tableBody.innerHTML = employees.map(employee => `
                <tr>
                    <td>${employee.name}</td>
                    <td>${employee.role}</td>
                </tr>
            `).join("");
        }

        function scheduleShift() {
            const employeeName = document.getElementById("employeeSelect").value;
            const shiftDate = document.getElementById("shiftDate").value;
            const shiftTime = document.getElementById("shiftTime").value;

            if (employeeName && shiftDate && shiftTime) {
                const employee = employees.find(emp => emp.name === employeeName);
                shifts.push({ employee, date: shiftDate, time: shiftTime });
                updateShiftTable();
            } else {
                alert("Please fill in all fields.");
            }
        }

        function updateShiftTable() {
            const tableBody = document.getElementById("shiftTable").querySelector("tbody");
            tableBody.innerHTML = shifts.map(shift => `
                <tr>
                    <td>${shift.employee.name}</td>
                    <td>${shift.employee.role}</td>
                    <td>${shift.date}</td>
                    <td>${shift.time}</td>
                </tr>
            `).join("");
        }

        function requestLeave() {
            const employeeName = document.getElementById("leaveEmployeeSelect").value;
            const leaveDate = document.getElementById("leaveDate").value;

            if (employeeName && leaveDate) {
                leaveRequests.push({ employeeName, leaveDate, status: "Pending" });
                updateLeaveTable();
            } else {
                alert("Please fill in all fields.");
            }
        }

        function updateLeaveTable() {
            const tableBody = document.getElementById("leaveTable").querySelector("tbody");
            tableBody.innerHTML = leaveRequests.map((leave, index) => `
                <tr>
                    <td>${leave.employeeName}</td>
                    <td>${leave.leaveDate}</td>
                    <td>${leave.status}</td>
                    <td>
                        <button onclick="acceptLeave(${index})">Accept</button>
                        <button class="btn-danger" onclick="rejectLeave(${index})">Reject</button>
                    </td>
                </tr>
            `).join("");
        }

        function acceptLeave(index) {
            const leave = leaveRequests[index];
            leave.status = "Accepted";

            const affectedShifts = shifts.filter(shift => shift.employee.name === leave.employeeName && shift.date === leave.leaveDate);

            affectedShifts.forEach(shift => {
                const replacementName = prompt(`Enter a replacement for ${shift.employee.name} on ${shift.date} (${shift.time}):`);
                const replacement = employees.find(emp => emp.name === replacementName);

                if (replacement) {
                    shift.employee = replacement;
                    alert(`${shift.employee.name} will cover the shift.`);
                } else {
                    alert("Invalid replacement. Shift remains unassigned.");
                }
            });

            updateLeaveTable();
            updateShiftTable();
        }

        function rejectLeave(index) {
            leaveRequests[index].status = "Rejected";
            updateLeaveTable();
        }
    </script>
</body>
</html>